{"version":3,"sources":["App.module.css","components/atoms/StarButton/StarButton.module.css","components/atoms/NumberButton/NumberButton.module.css","components/molecules/NumberGrid/NumberGrid.module.css","components/molecules/StarGrid/StarGrid.module.css","utils.ts","components/atoms/NumberButton/NumberButton.tsx","components/atoms/StarButton/StarButton.tsx","components/molecules/NumberGrid/NumberGrid.tsx","components/molecules/StarGrid/StarGrid.tsx","App.tsx","index.tsx"],"names":["module","exports","shoulDisable","pattern","multiples","find","el","join","NumberButton","value","useContext","AppContext","numbers","stars","dispatch","checked","indexOf","disabled","length","className","styles","button","unchecked","onClick","type","payload","StarButton","star","NumberGrid","container","Array","from","keys","map","x","StarGrid","React","createContext","initialState","toogle","tab","elem","index","filter","_","idx","reducer","state","action","Error","App","useReducer","price","cost","getPrice","Provider","header","top","title","body","bottom","label","toFixed","play","console","log","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.dec3c00f.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"App_header__23kGZ\",\"container\":\"App_container__1twQ-\",\"body\":\"App_body__1wH4K\",\"top\":\"App_top__2ISRs\",\"bottom\":\"App_bottom__35ROF\",\"title\":\"App_title__13ei-\",\"label\":\"App_label__3_xL4\",\"price\":\"App_price__2rHQs\",\"play\":\"App_play__1ZO0H\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"StarButton_button__HdZ2q\",\"unchecked\":\"StarButton_unchecked__3M2-d\",\"checked\":\"StarButton_checked__A0tma\",\"star\":\"StarButton_star__2hX8Y\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"NumberButton_button__2Z9Jp\",\"unchecked\":\"NumberButton_unchecked__34UDU\",\"checked\":\"NumberButton_checked__10Jld\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"NumberGrid_container__tkvsD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"StarGrid_container__2QhWV\"};","type Multiple = {\r\n    cost: {\r\n        currency: string;\r\n        value: number;\r\n    };\r\n    pattern: number[];\r\n};\r\nexport const getPrice = (\r\n    numbers: number[],\r\n    stars: number[],\r\n    multiples: Multiple[]\r\n): number | undefined => {\r\n    return numbers.length > 4 && stars.length > 1\r\n        ? multiples.find(\r\n              (el) =>\r\n                  el.pattern.join(\"-\") ===\r\n                  [numbers.length, stars.length].join(\"-\")\r\n          )?.cost.value\r\n        : 0;\r\n};\r\n\r\nexport const shoulDisable = (\r\n    pattern: number[],\r\n    multiples: Multiple[]\r\n): boolean => {\r\n    return !multiples.find((el) => el.pattern.join(\"-\") === pattern.join(\"-\"));\r\n};\r\n","import React, { useContext } from \"react\";\r\nimport styles from \"./NumberButton.module.css\";\r\nimport { AppContext } from \"../../../App\";\r\nimport { shoulDisable } from \"../../../utils\";\r\nimport multiples from \"../../../assets/multiples.json\";\r\n\r\ntype NumberButtonProps = {\r\n    value: number;\r\n};\r\n\r\nconst NumberButton = ({ value }: NumberButtonProps) => {\r\n    const { numbers, stars, dispatch } = useContext(AppContext);\r\n    const checked = numbers.indexOf(value) >= 0 ? true : false;\r\n    const disabled =\r\n        numbers.length > 4 && stars.length > 1\r\n            ? shoulDisable([numbers.length + 1, stars.length], multiples)\r\n            : false;\r\n    return (\r\n        <button\r\n            disabled={!checked && (disabled || numbers.length === 10)}\r\n            className={`${styles.button} ${\r\n                checked ? styles.checked : styles.unchecked\r\n            }`}\r\n            onClick={() => dispatch({ type: \"number\", payload: value })}\r\n        >\r\n            {value}\r\n        </button>\r\n    );\r\n};\r\n\r\nexport default NumberButton;\r\n","import React, { useContext } from \"react\";\r\nimport styles from \"./StarButton.module.css\";\r\nimport { AppContext } from \"../../../App\";\r\nimport { shoulDisable } from \"../../../utils\";\r\nimport multiples from \"../../../assets/multiples.json\";\r\n\r\ntype StarButtonProps = {\r\n    value: number;\r\n};\r\n\r\nconst StarButton = ({ value }: StarButtonProps) => {\r\n    const { numbers, stars, dispatch } = useContext(AppContext);\r\n    const checked = stars.indexOf(value) >= 0 ? true : false;\r\n    const disabled =\r\n        numbers.length > 4 && stars.length > 1\r\n            ? shoulDisable([numbers.length, stars.length + 1], multiples)\r\n            : false;\r\n    return (\r\n        <button\r\n            disabled={!checked && disabled}\r\n            className={`${styles.button} ${\r\n                checked ? styles.checked : styles.unchecked\r\n            }`}\r\n            onClick={() => dispatch({ type: \"star\", payload: value })}\r\n        >\r\n            <span className={styles.star}>{value}</span>\r\n        </button>\r\n    );\r\n};\r\n\r\nexport default StarButton;\r\n","import React from \"react\";\r\nimport styles from \"./NumberGrid.module.css\";\r\n\r\nimport { NumberButton } from \"../../atoms\";\r\n\r\nconst NumberGrid = () => {\r\n    return (\r\n        <div className={styles.container}>\r\n            {Array.from(Array(50).keys()).map((x) => (\r\n                <NumberButton key={x} value={x + 1} />\r\n            ))}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default NumberGrid;\r\n","import React from \"react\";\r\nimport styles from \"./StarGrid.module.css\";\r\n\r\nimport { StarButton } from \"../../atoms\";\r\n\r\nconst StarGrid = () => {\r\n    return (\r\n        <div className={styles.container}>\r\n            {Array.from(Array(12).keys()).map((x) => (\r\n                <StarButton key={x} value={x + 1} />\r\n            ))}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default StarGrid;\r\n","import React, { Dispatch, useReducer } from \"react\";\nimport styles from \"./App.module.css\";\nimport { NumberGrid, StarGrid } from \"./components/molecules\";\nimport multiples from \"./assets/multiples.json\";\nimport { getPrice } from \"./utils\";\n\ntype AppContextType = StateType & {\n    dispatch: Dispatch<ActionType>;\n};\n\nexport const AppContext = React.createContext({} as AppContextType);\n\ntype StateType = {\n    numbers: number[];\n    stars: number[];\n};\nconst initialState: StateType = { numbers: [], stars: [] };\n\ntype ActionType =\n    | { type: \"number\"; payload: number }\n    | { type: \"star\"; payload: number };\n\nconst toogle = (tab: number[], elem: number): number[] => {\n    const index = tab.indexOf(elem);\n    if (index >= 0) {\n        return tab.filter((_, idx) => index !== idx);\n    } else {\n        return [...tab, elem];\n    }\n};\n\nconst reducer = (state: StateType, action: ActionType): StateType => {\n    switch (action.type) {\n        case \"number\":\n            return { ...state, numbers: toogle(state.numbers, action.payload) };\n        case \"star\":\n            return { ...state, stars: toogle(state.stars, action.payload) };\n        default:\n            throw new Error(\"unknown action\");\n    }\n};\n\nconst App = () => {\n    const [state, dispatch] = useReducer(reducer, initialState);\n\n    const price = getPrice(state.numbers, state.stars, multiples) || 0;\n\n    return (\n        <AppContext.Provider value={{ ...state, dispatch }}>\n            <h1 className={styles.header}>EuroMillions</h1>\n            <div className={styles.container}>\n                <div className={styles.top}>\n                    <span className={styles.title}>Grille</span>\n                </div>\n                <div className={styles.body}>\n                    <NumberGrid />\n                    <StarGrid />\n                </div>\n                <div className={styles.bottom}>\n                    <span className={styles.label}>Mise totale:</span>\n                    <span className={styles.price}>\n                        {price % 100 ? (price / 100).toFixed(2) : price / 100} €\n                    </span>\n                    <button\n                        className={styles.play}\n                        disabled={price === 0}\n                        onClick={() => console.log(state)}\n                    >\n                        Jouer\n                    </button>\n                </div>\n            </div>\n        </AppContext.Provider>\n    );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n    <React.StrictMode>\n        <App />\n    </React.StrictMode>,\n    document.getElementById(\"root\")\n);\n"],"sourceRoot":""}